<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EPAè©•ä¼°è¡¨ - PGYé†«å¸«</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Microsoft JhengHei", "å¾®è»Ÿæ­£é»‘é«”", Arial, sans-serif;
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .badge {
            background: rgba(255,255,255,0.2);
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            margin-top: 10px;
            font-size: 14px;
        }

        .info-box {
            background: #d1ecf1;
            border-left: 4px solid #0c5460;
            padding: 15px;
            margin: 20px 30px;
            border-radius: 5px;
        }

        .content {
            padding: 30px;
        }

        .basic-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .basic-info h3 {
            color: #11998e;
            margin-bottom: 15px;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: 600;
            margin-bottom: 5px;
            color: #333;
        }

        .form-group input, .form-group select, .form-group textarea {
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 14px;
            transition: border-color 0.3s;
            font-family: inherit;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #11998e;
        }

        .section {
            background: #f8f9fa;
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 10px;
            border-left: 5px solid #11998e;
        }

        .section h2 {
            color: #11998e;
            font-size: 20px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .epa-item {
            background: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .epa-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
            font-size: 16px;
            display: flex;
            align-items: center;
        }

        .epa-number {
            background: #11998e;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-size: 14px;
        }

        .epa-description {
            background: #d1f2eb;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 15px;
            font-size: 14px;
            color: #0c5460;
        }

        .entrustment-scale {
            margin-bottom: 20px;
        }

        .entrustment-scale h4 {
            color: #555;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .scale-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
        }

        .scale-option {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 12px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .scale-option:hover {
            background: #e8f8f5;
            border-color: #11998e;
        }

        .scale-option input[type="radio"] {
            display: none;
        }

        .scale-option input[type="radio"]:checked + label {
            color: #11998e;
            font-weight: 600;
        }

        .scale-option label {
            cursor: pointer;
            display: block;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .scale-desc {
            font-size: 12px;
            color: #666;
        }

        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 40px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-family: inherit;
        }

        .btn-primary {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(17, 153, 142, 0.4);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .summary-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
        }

        .summary-section h3 {
            color: #11998e;
            margin-bottom: 15px;
        }

        .footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            color: #666;
            font-size: 14px;
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }
            .button-group {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¥ EPAè©•ä¼°è¡¨</h1>
            <p>Entrustable Professional Activities Assessment</p>
            <div class="badge">PGYé†«å¸« Post-Graduate Year</div>
        </div>

        <div class="info-box">
            <strong>ğŸ“Œ è©•ä¼°èªªæ˜ï¼š</strong>
            PGYé†«å¸«æ‡‰èƒ½è™•ç†å¸¸è¦‹è‡¨åºŠæƒ…æ³ä¸¦å…·å‚™åŸºæœ¬æ€¥æ•‘èƒ½åŠ›ã€‚è©•ä¼°æ‡‰è‘—é‡æ–¼è‡¨åºŠåˆ¤æ–·ã€è™•ç½®èƒ½åŠ›åŠåœ˜éšŠåˆä½œã€‚
        </div>

        <div class="content">
            <form id="epaForm">
                <!-- åŸºæœ¬è³‡æ–™ -->
                <div class="basic-info">
                    <h3>ğŸ‘¤ åŸºæœ¬è³‡æ–™</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>å­¸å“¡å§“å *</label>
                            <input type="text" id="studentName" required>
                        </div>
                        <div class="form-group">
                            <label>è¨“ç·´å¹´åº¦</label>
                            <select id="trainingYear">
                                <option value="">è«‹é¸æ“‡</option>
                                <option value="PGY1">PGY-1</option>
                                <option value="PGY2">PGY-2</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>è©•ä¼°æ—¥æœŸ *</label>
                            <input type="date" id="assessDate" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>è©•ä¼°è€…å§“å *</label>
                            <input type="text" id="assessorName" required>
                        </div>
                        <div class="form-group">
                            <label>è©•ä¼°è€…è·ç¨±</label>
                            <select id="assessorTitle">
                                <option value="">è«‹é¸æ“‡</option>
                                <option value="ä¸»æ²»é†«å¸«">ä¸»æ²»é†«å¸«</option>
                                <option value="ç¸½é†«å¸«">ç¸½é†«å¸«</option>
                                <option value="è³‡æ·±ä½é™¢é†«å¸«">è³‡æ·±ä½é™¢é†«å¸«</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>è©•ä¼°ç§‘åˆ¥</label>
                            <select id="department">
                                <option value="">è«‹é¸æ“‡</option>
                                <option value="å…§ç§‘">å…§ç§‘</option>
                                <option value="å¤–ç§‘">å¤–ç§‘</option>
                                <option value="å©¦ç”¢ç§‘">å©¦ç”¢ç§‘</option>
                                <option value="å°å…’ç§‘">å°å…’ç§‘</option>
                                <option value="æ€¥è¨ºé†«å­¸ç§‘">æ€¥è¨ºé†«å­¸ç§‘</option>
                                <option value="å®¶åº­é†«å­¸ç§‘">å®¶åº­é†«å­¸ç§‘</option>
                                <option value="å…¶ä»–">å…¶ä»–</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- EPAé …ç›®è©•ä¼° -->
                <div class="section">
                    <h2>ğŸ“‹ PGYé†«å¸«æ ¸å¿ƒEPAè©•ä¼°</h2>
                    
                    <!-- EPA 1 -->
                    <div class="epa-item">
                        <div class="epa-title">
                            <span class="epa-number">1</span>
                            æ€¥æ€§ç—…æ‚£è©•ä¼°èˆ‡åˆæ­¥è™•ç½®
                        </div>
                        <div class="epa-description">
                            èƒ½å¿«é€Ÿè©•ä¼°æ€¥æ€§ç—…æ‚£çš„åš´é‡åº¦ï¼ŒåŸ·è¡Œåˆæ­¥ç©©å®šæªæ–½ï¼Œä¸¦æ±ºå®šå¾ŒçºŒè™•ç½®æ–¹å‘
                        </div>
                        
                        <div class="entrustment-scale">
                            <h4>ä¿¡ä»»ç­‰ç´š (Entrustment Level) *</h4>
                            <div class="scale-options">
                                <div class="scale-option">
                                    <input type="radio" id="epa1_l1" name="epa1_level" value="1" required>
                                    <label for="epa1_l1">Level 1</label>
                                    <div class="scale-desc">åƒ…èƒ½è§€å¯Ÿ</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa1_l2" name="epa1_level" value="2">
                                    <label for="epa1_l2">Level 2</label>
                                    <div class="scale-desc">éœ€ç›´æ¥ç£å°</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa1_l3" name="epa1_level" value="3">
                                    <label for="epa1_l3">Level 3</label>
                                    <div class="scale-desc">éœ€é–“æ¥ç£å°</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa1_l4" name="epa1_level" value="4">
                                    <label for="epa1_l4">Level 4</label>
                                    <div class="scale-desc">å¯ç¨ç«‹åŸ·è¡Œ</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa1_l5" name="epa1_level" value="5">
                                    <label for="epa1_l5">Level 5</label>
                                    <div class="scale-desc">å¯ç£å°ä»–äºº</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>è§€å¯Ÿè©•èª</label>
                            <textarea id="epa1_comment" rows="3"></textarea>
                        </div>
                    </div>

                    <!-- EPA 2 -->
                    <div class="epa-item">
                        <div class="epa-title">
                            <span class="epa-number">2</span>
                            åŸºæœ¬ç”Ÿå‘½æ•‘æ²»è¡“ (BLS/ACLS)
                        </div>
                        <div class="epa-description">
                            èƒ½åŸ·è¡Œé«˜å“è³ªCPRã€ä½¿ç”¨AEDã€å»ºç«‹å‘¼å¸é“åŠåŸ·è¡ŒACLSæµç¨‹
                        </div>
                        
                        <div class="entrustment-scale">
                            <h4>ä¿¡ä»»ç­‰ç´š (Entrustment Level) *</h4>
                            <div class="scale-options">
                                <div class="scale-option">
                                    <input type="radio" id="epa2_l1" name="epa2_level" value="1" required>
                                    <label for="epa2_l1">Level 1</label>
                                    <div class="scale-desc">åƒ…èƒ½è§€å¯Ÿ</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa2_l2" name="epa2_level" value="2">
                                    <label for="epa2_l2">Level 2</label>
                                    <div class="scale-desc">éœ€ç›´æ¥ç£å°</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa2_l3" name="epa2_level" value="3">
                                    <label for="epa2_l3">Level 3</label>
                                    <div class="scale-desc">éœ€é–“æ¥ç£å°</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa2_l4" name="epa2_level" value="4">
                                    <label for="epa2_l4">Level 4</label>
                                    <div class="scale-desc">å¯ç¨ç«‹åŸ·è¡Œ</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa2_l5" name="epa2_level" value="5">
                                    <label for="epa2_l5">Level 5</label>
                                    <div class="scale-desc">å¯ç£å°ä»–äºº</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>è§€å¯Ÿè©•èª</label>
                            <textarea id="epa2_comment" rows="3"></textarea>
                        </div>
                    </div>

                    <!-- EPA 3 -->
                    <div class="epa-item">
                        <div class="epa-title">
                            <span class="epa-number">3</span>
                            è‡¨åºŠè™•ç½®æŠ€èƒ½
                        </div>
                        <div class="epa-description">
                            èƒ½å®‰å…¨åŸ·è¡Œå¸¸è¦‹è‡¨åºŠè™•ç½®ï¼ˆå¦‚éœè„ˆæ³¨å°„ã€å‹•è„ˆç©¿åˆºã€å°å°¿ã€NG tubeç½®æ”¾ç­‰ï¼‰
                        </div>
                        
                        <div class="entrustment-scale">
                            <h4>ä¿¡ä»»ç­‰ç´š (Entrustment Level) *</h4>
                            <div class="scale-options">
                                <div class="scale-option">
                                    <input type="radio" id="epa3_l1" name="epa3_level" value="1" required>
                                    <label for="epa3_l1">Level 1</label>
                                    <div class="scale-desc">åƒ…èƒ½è§€å¯Ÿ</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa3_l2" name="epa3_level" value="2">
                                    <label for="epa3_l2">Level 2</label>
                                    <div class="scale-desc">éœ€ç›´æ¥ç£å°</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa3_l3" name="epa3_level" value="3">
                                    <label for="epa3_l3">Level 3</label>
                                    <div class="scale-desc">éœ€é–“æ¥ç£å°</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa3_l4" name="epa3_level" value="4">
                                    <label for="epa3_l4">Level 4</label>
                                    <div class="scale-desc">å¯ç¨ç«‹åŸ·è¡Œ</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa3_l5" name="epa3_level" value="5">
                                    <label for="epa3_l5">Level 5</label>
                                    <div class="scale-desc">å¯ç£å°ä»–äºº</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>è§€å¯Ÿè©•èª</label>
                            <textarea id="epa3_comment" rows="3"></textarea>
                        </div>
                    </div>

                    <!-- EPA 4 -->
                    <div class="epa-item">
                        <div class="epa-title">
                            <span class="epa-number">4</span>
                            ç—…æ‚£äº¤ç­èˆ‡æºé€š
                        </div>
                        <div class="epa-description">
                            èƒ½ä½¿ç”¨SBARæˆ–å…¶ä»–çµæ§‹åŒ–æ–¹å¼é€²è¡Œæ¸…æ¥šã€æœ‰æ•ˆçš„ç—…æ‚£äº¤ç­ï¼Œç¢ºä¿ç…§è­·é€£çºŒæ€§
                        </div>
                        
                        <div class="entrustment-scale">
                            <h4>ä¿¡ä»»ç­‰ç´š (Entrustment Level) *</h4>
                            <div class="scale-options">
                                <div class="scale-option">
                                    <input type="radio" id="epa4_l1" name="epa4_level" value="1" required>
                                    <label for="epa4_l1">Level 1</label>
                                    <div class="scale-desc">åƒ…èƒ½è§€å¯Ÿ</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa4_l2" name="epa4_level" value="2">
                                    <label for="epa4_l2">Level 2</label>
                                    <div class="scale-desc">éœ€ç›´æ¥ç£å°</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa4_l3" name="epa4_level" value="3">
                                    <label for="epa4_l3">Level 3</label>
                                    <div class="scale-desc">éœ€é–“æ¥ç£å°</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa4_l4" name="epa4_level" value="4">
                                    <label for="epa4_l4">Level 4</label>
                                    <div class="scale-desc">å¯ç¨ç«‹åŸ·è¡Œ</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa4_l5" name="epa4_level" value="5">
                                    <label for="epa4_l5">Level 5</label>
                                    <div class="scale-desc">å¯ç£å°ä»–äºº</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>è§€å¯Ÿè©•èª</label>
                            <textarea id="epa4_comment" rows="3"></textarea>
                        </div>
                    </div>

                    <!-- EPA 5 -->
                    <div class="epa-item">
                        <div class="epa-title">
                            <span class="epa-number">5</span>
                            æª¢é©—æª¢æŸ¥åˆ¤è®€èˆ‡è‡¨åºŠæ±ºç­–
                        </div>
                        <div class="epa-description">
                            èƒ½æ­£ç¢ºåˆ¤è®€å¸¸è¦‹æª¢é©—æ•¸æ“šåŠå½±åƒæª¢æŸ¥ï¼Œä¸¦æ•´åˆè³‡è¨Šåšå‡ºé©ç•¶è‡¨åºŠæ±ºç­–
                        </div>
                        
                        <div class="entrustment-scale">
                            <h4>ä¿¡ä»»ç­‰ç´š (Entrustment Level) *</h4>
                            <div class="scale-options">
                                <div class="scale-option">
                                    <input type="radio" id="epa5_l1" name="epa5_level" value="1" required>
                                    <label for="epa5_l1">Level 1</label>
                                    <div class="scale-desc">åƒ…èƒ½è§€å¯Ÿ</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa5_l2" name="epa5_level" value="2">
                                    <label for="epa5_l2">Level 2</label>
                                    <div class="scale-desc">éœ€ç›´æ¥ç£å°</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa5_l3" name="epa5_level" value="3">
                                    <label for="epa5_l3">Level 3</label>
                                    <div class="scale-desc">éœ€é–“æ¥ç£å°</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa5_l4" name="epa5_level" value="4">
                                    <label for="epa5_l4">Level 4</label>
                                    <div class="scale-desc">å¯ç¨ç«‹åŸ·è¡Œ</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa5_l5" name="epa5_level" value="5">
                                    <label for="epa5_l5">Level 5</label>
                                    <div class="scale-desc">å¯ç£å°ä»–äºº</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>è§€å¯Ÿè©•èª</label>
                            <textarea id="epa5_comment" rows="3"></textarea>
                        </div>
                    </div>

                    <!-- EPA 6 -->
                    <div class="epa-item">
                        <div class="epa-title">
                            <span class="epa-number">6</span>
                            åœ˜éšŠåˆä½œèˆ‡è·¨å°ˆæ¥­æºé€š
                        </div>
                        <div class="epa-description">
                            èƒ½æœ‰æ•ˆèˆ‡è­·ç†å¸«ã€è—¥å¸«ã€å…¶ä»–å°ˆç§‘é†«å¸«åˆä½œï¼Œå…±åŒæä¾›ä»¥ç—…äººç‚ºä¸­å¿ƒçš„ç…§è­·
                        </div>
                        
                        <div class="entrustment-scale">
                            <h4>ä¿¡ä»»ç­‰ç´š (Entrustment Level) *</h4>
                            <div class="scale-options">
                                <div class="scale-option">
                                    <input type="radio" id="epa6_l1" name="epa6_level" value="1" required>
                                    <label for="epa6_l1">Level 1</label>
                                    <div class="scale-desc">åƒ…èƒ½è§€å¯Ÿ</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa6_l2" name="epa6_level" value="2">
                                    <label for="epa6_l2">Level 2</label>
                                    <div class="scale-desc">éœ€ç›´æ¥ç£å°</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa6_l3" name="epa6_level" value="3">
                                    <label for="epa6_l3">Level 3</label>
                                    <div class="scale-desc">éœ€é–“æ¥ç£å°</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa6_l4" name="epa6_level" value="4">
                                    <label for="epa6_l4">Level 4</label>
                                    <div class="scale-desc">å¯ç¨ç«‹åŸ·è¡Œ</div>
                                </div>
                                <div class="scale-option">
                                    <input type="radio" id="epa6_l5" name="epa6_level" value="5">
                                    <label for="epa6_l5">Level 5</label>
                                    <div class="scale-desc">å¯ç£å°ä»–äºº</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>è§€å¯Ÿè©•èª</label>
                            <textarea id="epa6_comment" rows="3"></textarea>
                        </div>
                    </div>
                </div>

                <!-- æ•´é«”è©•ä¼° -->
                <div class="summary-section">
                    <h3>ğŸ“Š æ•´é«”è©•ä¼°èˆ‡å›é¥‹</h3>
                    <div class="form-group">
                        <label>æ•´é«”è¡¨ç¾è©•ä¼°</label>
                        <select id="overallPerformance">
                            <option value="">è«‹é¸æ“‡</option>
                            <option value="å„ªç§€">å„ªç§€ (Excellent)</option>
                            <option value="è‰¯å¥½">è‰¯å¥½ (Good)</option>
                            <option value="å°šå¯">å°šå¯ (Satisfactory)</option>
                            <option value="éœ€æ”¹é€²">éœ€æ”¹é€² (Needs Improvement)</option>
                            <option value="ä¸åŠæ ¼">ä¸åŠæ ¼ (Unsatisfactory)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>å­¸å“¡å„ªé»èˆ‡å…·é«”è¡¨ç¾</label>
                        <textarea id="strengths" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label>éœ€æ”¹é€²ä¹‹è™•èˆ‡å­¸ç¿’å»ºè­°</label>
                        <textarea id="improvements" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label>æ˜¯å¦å»ºè­°é€²å…¥å°ˆç§‘è¨“ç·´</label>
                        <select id="recommendation">
                            <option value="">è«‹é¸æ“‡</option>
                            <option value="å¼·çƒˆæ¨è–¦">å¼·çƒˆæ¨è–¦</option>
                            <option value="æ¨è–¦">æ¨è–¦</option>
                            <option value="ä¿ç•™">ä¿ç•™</option>
                            <option value="ä¸æ¨è–¦">ä¸æ¨è–¦</option>
                        </select>
                    </div>
                </div>

                <!-- æŒ‰éˆ• -->
                <div class="button-group">
                    <button type="button" class="btn btn-secondary" onclick="copyFormContent()">ğŸ“‹ è¤‡è£½å…§å®¹</button>
                    <button type="button" class="btn btn-secondary" onclick="window.print()">ğŸ–¨ï¸ åˆ—å°è¡¨å–®</button>
                    <button type="button" class="btn btn-secondary" onclick="resetForm()">ğŸ”„ é‡æ–°å¡«å¯«</button>
                    <button type="submit" class="btn btn-primary">âœ… æäº¤è©•ä¼°</button>
                </div>
            </form>
        </div>

        <div class="footer">
            <p>å°å¤§é†«é™¢æ–°ç«¹åˆ†é™¢ æ•™å­¸éƒ¨ Â© 2025</p>
            <p>EPAè©•ä¼°è¡¨ - PGYé†«å¸«ç‰ˆæœ¬ v1.0</p>
        </div>
    </div>

    <script>
        const form = document.getElementById('epaForm');
        document.getElementById('assessDate').valueAsDate = new Date();

        form.addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!document.getElementById('studentName').value) {
                alert('è«‹å¡«å¯«å­¸å“¡å§“å');
                return;
            }

            const epaLevels = ['epa1_level', 'epa2_level', 'epa3_level', 'epa4_level', 'epa5_level', 'epa6_level'];
            for (let epa of epaLevels) {
                if (!document.querySelector(`input[name="${epa}"]:checked`)) {
                    alert('è«‹å®Œæˆæ‰€æœ‰EPAé …ç›®çš„è©•ä¼°');
                    return;
                }
            }

            if (confirm('ç¢ºèªæäº¤æ­¤è©•ä¼°è¡¨å—ï¼Ÿ')) {
                alert('âœ… è©•ä¼°è¡¨å·²æäº¤ï¼');
            }
        });

        function resetForm() {
            if (confirm('ç¢ºå®šè¦é‡æ–°å¡«å¯«è©•ä¼°è¡¨å—ï¼Ÿæ‰€æœ‰è³‡æ–™å°‡æœƒæ¸…é™¤ã€‚')) {
                form.reset();
                document.getElementById('assessDate').valueAsDate = new Date();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function copyFormContent() {
            // æ”¶é›†åŸºæœ¬è³‡æ–™
            const studentName = document.getElementById('studentName').value || '(æœªå¡«å¯«)';
            const trainingYear = document.getElementById('trainingYear').value || '(æœªå¡«å¯«)';
            const assessDate = document.getElementById('assessDate').value || '(æœªå¡«å¯«)';
            const assessorName = document.getElementById('assessorName').value || '(æœªå¡«å¯«)';
            const assessorTitle = document.getElementById('assessorTitle').value || '(æœªå¡«å¯«)';
            const department = document.getElementById('department').value || '(æœªå¡«å¯«)';

            // æ”¶é›†EPAè©•ä¼°
            const epaItems = [
                { name: 'æ€¥æ€§ç—…æ‚£è©•ä¼°èˆ‡åˆæ­¥è™•ç½®', level: 'epa1_level', comment: 'epa1_comment' },
                { name: 'åŸºæœ¬ç”Ÿå‘½æ•‘æ²»è¡“ (BLS/ACLS)', level: 'epa2_level', comment: 'epa2_comment' },
                { name: 'è‡¨åºŠè™•ç½®æŠ€èƒ½', level: 'epa3_level', comment: 'epa3_comment' },
                { name: 'ç—…æ‚£äº¤ç­èˆ‡æºé€š', level: 'epa4_level', comment: 'epa4_comment' },
                { name: 'æª¢é©—æª¢æŸ¥åˆ¤è®€èˆ‡è‡¨åºŠæ±ºç­–', level: 'epa5_level', comment: 'epa5_comment' },
                { name: 'åœ˜éšŠåˆä½œèˆ‡è·¨å°ˆæ¥­æºé€š', level: 'epa6_level', comment: 'epa6_comment' }
            ];

            let epaText = '';
            epaItems.forEach((item, index) => {
                const levelElement = document.querySelector(`input[name="${item.level}"]:checked`);
                const level = levelElement ? `Level ${levelElement.value}` : '(æœªè©•ä¼°)';
                const comment = document.getElementById(item.comment).value || '(ç„¡)';
                epaText += `${index + 1}. ${item.name}\n   ä¿¡ä»»ç­‰ç´šï¼š${level}\n   è©•èªï¼š${comment}\n\n`;
            });

            // æ”¶é›†æ•´é«”è©•ä¼°
            const overallPerformance = document.getElementById('overallPerformance').value || '(æœªé¸æ“‡)';
            const strengths = document.getElementById('strengths').value || '(æœªå¡«å¯«)';
            const improvements = document.getElementById('improvements').value || '(æœªå¡«å¯«)';
            const recommendation = document.getElementById('recommendation').value || '(æœªé¸æ“‡)';

            // çµ„åˆæ–‡å­—
            const formText = `
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    EPAè©•ä¼°è¡¨ - PGYé†«å¸«
    å°å¤§é†«é™¢æ–°ç«¹åˆ†é™¢ æ•™å­¸éƒ¨
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€åŸºæœ¬è³‡æ–™ã€‘
å­¸å“¡å§“åï¼š${studentName}
è¨“ç·´å¹´åº¦ï¼š${trainingYear}
è©•ä¼°æ—¥æœŸï¼š${assessDate}
è©•ä¼°è€…ï¼š${assessorName}
è©•ä¼°è€…è·ç¨±ï¼š${assessorTitle}
è©•ä¼°ç§‘åˆ¥ï¼š${department}

ã€EPAè©•ä¼°é …ç›®ã€‘
${epaText}
ã€æ•´é«”è©•ä¼°ã€‘
æ•´é«”è¡¨ç¾ï¼š${overallPerformance}

å„ªé»èˆ‡å…·é«”è¡¨ç¾ï¼š
${strengths}

éœ€æ”¹é€²ä¹‹è™•èˆ‡å­¸ç¿’å»ºè­°ï¼š
${improvements}

æ˜¯å¦å»ºè­°é€²å…¥å°ˆç§‘è¨“ç·´ï¼š${recommendation}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
è©•ä¼°æ—¥æœŸï¼š${new Date().toLocaleString('zh-TW')}
            `.trim();

            // è¤‡è£½åˆ°å‰ªè²¼ç°¿
            navigator.clipboard.writeText(formText).then(() => {
                alert('âœ… è©•ä¼°å…§å®¹å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼\n\næ‚¨ç¾åœ¨å¯ä»¥è²¼åˆ°éƒµä»¶ã€Wordæˆ–å…¶ä»–è»Ÿé«”ä¸­ã€‚');
            }).catch(err => {
                const textArea = document.createElement('textarea');
                textArea.value = formText;
                textArea.style.position = 'fixed';
                textArea.style.left = '-999999px';
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    alert('âœ… è©•ä¼°å…§å®¹å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼\n\næ‚¨ç¾åœ¨å¯ä»¥è²¼åˆ°éƒµä»¶ã€Wordæˆ–å…¶ä»–è»Ÿé«”ä¸­ã€‚');
                } catch (err) {
                    alert('âŒ è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•é¸å–å…§å®¹è¤‡è£½ã€‚');
                }
                document.body.removeChild(textArea);
            });
        }
    </script>
</body>
</html>